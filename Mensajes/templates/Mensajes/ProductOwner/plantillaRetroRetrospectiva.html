{% load static %}
<!DOCTYPE html>
<html>
  <head>
    <style>
      #bg{
                  background-color:yellow;
              }
              #azul{
                  background-color:rgb(194, 238, 255);
              }
              #gris{
                  background-color:rgb(194, 194, 194);
              }
      table tr, th, td {
          /* height: 20px; */
          vertical-align: bottom;
      }
      .table-row-auto td {
          width: 200px; 
          word-wrap: break-word; 
      }
      </style>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
  </head>
  <body>

<div>
  <table border="0.5">
    {% for p in form|slice:":1" %}
    <tr style="height: 20px;">
      <td id="azul" align="center">Proyecto</td>
      <td colspan="7" align="center" id="azul">{{ p.Proyecto }}</td>
    </tr>
   {% endfor %}
   {% for p in form|slice:":1" %}
    <tr style="height: 20px;">
      <td align="center">Fecha</td>
      <td colspan="7">&nbsp {{ p.FHCreacion }} </td>
    </tr>
   {% endfor %}
   {% for p in form|slice:":1" %}
    <tr style="height: 20px;">
      <td colspan="8" align="center" style="color: rgb(0, 113, 157);">Retroalimentación de la Retrospectiva del {{ p.Mensaje.Sprint }}</td>
    </tr>
   {% endfor %}
   {% for p in form|slice:":1" %}
    <tr style="height: 20px;">
      <td id="azul" align="center">Idioma</td>
      <td colspan="7" id="azul"> &nbsp {{ p.Emisor.Idioma }}</td>
    </tr>
   {% endfor %}
   {% for p in form|slice:":1" %}
    <tr style="height: 20px;">
      <td align="center">País</td>
      <td  colspan="7"> &nbsp {{ p.Emisor.Pais }}</td>
    </tr>
   {% endfor %}

   {% for p in form|slice:":1" %}
   <tbody>
   <tr style="height: 20px;">
    <td id="azul" align="center">Emisor</td>
    <td id="azul" align="center">{{ p.Emisor.Usuario }} </td>
    <!--Determina que rol tiene el emisor-->
    {% if  p.Emisor.Roles.NombreRol == 'Product Owner' %}
    <td id="azul" align="center">Product Owner</td>
    {% elif  p.Emisor.Roles.NombreRol == 'Scrum Master' %}
    <td id="azul" align="center">Scrum Master</td>
    {% elif  p.Emisor.Roles.NombreRol == 'Developers' %}
    <td id="azul" align="center">Empleado</td>
    {% else %}
    <td id="azul" align="center">Jefe de proyecto</td>
    {% endif %}
    <td colspan="5" id="azul" align="center"></td>
   </tr>
   </tbody>
   {% endfor %}
  
    <tr style="height: 20px;" id="gris" >
      <!--<th scope="row">Destinatarios</th>-->
      <td align="center">Destinatario</td>
      <td align="center">Nombre</td>
      <td align="center">Rol</td>
      <td colspan="5"></td>
    </tr>

  {% for p in form %}
  <tbody>
  <tr style="height: 20px;">
    <td align="center"></td>
    <td align="center">{{ p.Receptor.Usuario }}</td>
    <!--Determina que rol tiene el destinatario-->
    <!--user.usuarioempleado.Roles.NombreRol-->
    {% if p.Receptor.Roles.NombreRol == 'Product Owner' %}
    <td  align="center">Product Owner</td>
    {% elif p.Receptor.Roles.NombreRol == 'Scrum Master' %}
    <td  align="center">Scrum Master</td>
    {% elif p.Receptor.Roles.NombreRol == 'Developers' %}
    <td align="center">Empleado</td>
    {% else %}
    <td  align="center">Jefe de proyecto</td>
    {% endif %}
    <td colspan="5" align="center"></td>
   </tr>
  </tbody>
  {% endfor %}
   
   <tbody>
    <tr>
        <td colspan="8"></td>
    </tr>
  </tbody>
  
  {% for p in form|slice:":1"  %}
   <tr>
    <td align="center" id="azul">Retroalimentación</td>
    <td class="table-row-auto" colspan="7" id="azul">{{ p.Descripcion }}</td>
   </tr>
   <tr>
    <td align="center" >Contestación</td>
    <td class="table-row-auto" colspan="7">{{ p.Contestacion }}</td>
   </tr>

   {% endfor %}
  </table>
  </div> 
  
  {% load crispy_forms_tags %}

  </body>
</html>
